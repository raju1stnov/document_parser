<mxfile host="Electron" modified="2025-02-14T16:47:07.071Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/21.6.8 Chrome/114.0.5735.289 Electron/25.5.0 Safari/537.36" etag="nIeg_iKFZS1rG7F4HQZN" version="21.6.8" type="device">
  <diagram name="Page-1" id="K1iN2CGBCRCByr8UfI75">
    <mxGraphModel dx="1828" dy="566" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-134" value="Retry / Exponential Back off" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;verticalAlign=bottom;fontStyle=1;fontSize=15;" vertex="1" parent="1">
          <mxGeometry x="500" y="910" width="180" height="230" as="geometry" />
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-124" value="Document upload with chunks" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;verticalAlign=top;fontStyle=1;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="180" y="360" width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-85" value="Large Document" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="248" y="400" width="119" height="34" as="geometry" />
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-86" value="Document upload API" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="219" y="480" width="178" height="34" as="geometry" />
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-87" value="GCS CHUNK Bucket" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="239.5" y="580" width="139" height="34" as="geometry" />
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-88" value="LRO starter Cloud Function Trigger" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="204" y="682" width="211" height="58" as="geometry" />
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-116" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ngen-1MSQVI-7FVYuGFS-89" target="Ngen-1MSQVI-7FVYuGFS-91">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-117" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="Ngen-1MSQVI-7FVYuGFS-116">
          <mxGeometry x="-0.0839" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-128" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Ngen-1MSQVI-7FVYuGFS-89" target="Ngen-1MSQVI-7FVYuGFS-125">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-89" value="Check Metadata Completeness&#xa;all chunks and manifest" style="rhombus;strokeWidth=2;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="199.5" y="770" width="220" height="144" as="geometry" />
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-91" value="Wait for Next Chunk" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="561" y="824" width="161" height="34" as="geometry" />
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-121" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ngen-1MSQVI-7FVYuGFS-125" target="Ngen-1MSQVI-7FVYuGFS-92">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="230" y="990" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-123" value="store LRO_id" style="edgeLabel;html=1;align=center;verticalAlign=top;resizable=0;points=[];horizontal=1;" vertex="1" connectable="0" parent="Ngen-1MSQVI-7FVYuGFS-121">
          <mxGeometry x="-0.1272" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-92" value="OUTPUT_BUCKET/metadata/" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="-79" y="1008" width="192" height="34" as="geometry" />
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-138" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ngen-1MSQVI-7FVYuGFS-97" target="Ngen-1MSQVI-7FVYuGFS-137">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-97" value="GCS Output_Bucket/Structured_data/" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="218.5" y="1140" width="183" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-98" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.4988227739726027;exitY=1;entryX=0.5023261938202247;entryY=0;rounded=0;" edge="1" parent="1" source="Ngen-1MSQVI-7FVYuGFS-85" target="Ngen-1MSQVI-7FVYuGFS-86">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-99" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5023261938202247;exitY=1;entryX=0.49938174460431656;entryY=0;rounded=0;" edge="1" parent="1" source="Ngen-1MSQVI-7FVYuGFS-86" target="Ngen-1MSQVI-7FVYuGFS-87">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-111" value="splits into chunk" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="Ngen-1MSQVI-7FVYuGFS-99">
          <mxGeometry x="-0.1807" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-100" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.49938174460431656;exitY=1;entryX=0.4995144774011299;entryY=0;rounded=0;" edge="1" parent="1" source="Ngen-1MSQVI-7FVYuGFS-87" target="Ngen-1MSQVI-7FVYuGFS-88">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-112" value="new chunk or manifest" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="Ngen-1MSQVI-7FVYuGFS-100">
          <mxGeometry x="-0.2908" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-101" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.4995144774011299;exitY=1;entryX=0.5015450093283582;entryY=0;rounded=0;" edge="1" parent="1" source="Ngen-1MSQVI-7FVYuGFS-88" target="Ngen-1MSQVI-7FVYuGFS-89">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-129" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ngen-1MSQVI-7FVYuGFS-125" target="Ngen-1MSQVI-7FVYuGFS-97">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-130" value="structured data" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="Ngen-1MSQVI-7FVYuGFS-129">
          <mxGeometry x="-0.1161" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-135" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Ngen-1MSQVI-7FVYuGFS-125" target="Ngen-1MSQVI-7FVYuGFS-134">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-125" value="Document AI" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="1">
          <mxGeometry x="249.5" y="995" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-131" value="start_LRO" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="550" y="937" width="63" height="63" as="geometry" />
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-132" value="" style="endArrow=classic;html=1;exitX=0;exitY=1;exitDx=0;exitDy=0;curved=1;entryX=0.951;entryY=0.806;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="Ngen-1MSQVI-7FVYuGFS-131" target="Ngen-1MSQVI-7FVYuGFS-131">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="570.0000000000001" y="1016.998" as="sourcePoint" />
            <mxPoint x="632.7480000000002" y="1018.384" as="targetPoint" />
            <Array as="points">
              <mxPoint x="579.37" y="1173.71" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-133" value="error? retry" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="Ngen-1MSQVI-7FVYuGFS-132">
          <mxGeometry x="-0.7029" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-140" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ngen-1MSQVI-7FVYuGFS-137" target="Ngen-1MSQVI-7FVYuGFS-139">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-137" value="Chunking Service&lt;br&gt;structured data" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="250" y="1250" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-142" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Ngen-1MSQVI-7FVYuGFS-139" target="Ngen-1MSQVI-7FVYuGFS-141">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-139" value="Embedding Service" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="249.5" y="1370" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ngen-1MSQVI-7FVYuGFS-141" value="VectorDB" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="521" y="1360" width="80" height="80" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
